<div class="game-container">
  <h2 class="roomID">Room ID: {{ roomData.roomId }}</h2>

  @if (players.length > 0) {
    <h3>Leaderboard</h3>
    <table>
      <thead>
        <tr>
          <th>Player</th>
          <th>WPM</th>
          <th>Completion (%)</th>
        </tr>
      </thead>
      <tbody>
        @for (player of players; track $index) {
          <tr>
            <td>{{ player.name }}</td>
            <td>{{ player.wpm }}</td>
            <td>{{ player.completion }}</td>
          </tr>
        }
      </tbody>
    </table>
  }

  @if (!gameStarted) {
    <button class="btn" (click)="startGame()">Start Game</button>
  }

  @if (countdown !== null) {
    <h2>Game starting in: {{ countdown }}</h2>
  }

  @if (gameStarted) {
    <p class="game-text" [innerHTML]="getHighlightedText()"></p>
    <textarea
      [(ngModel)]="typedText"
      (input)="onTyping()"
      rows="5"
      placeholder="Start typing here..."
    ></textarea>
  }

  @if (gameOver) {
    <h2>Game Over!</h2>
    <h3>Winner: {{ winner?.name }}</h3>
    <button (click)="navigateTo('game-lobby')">Back to Lobby</button>
  }
</div>
